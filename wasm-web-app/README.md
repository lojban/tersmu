# tersmu WASM Web App

This directory contains the WebAssembly version of the tersmu Lojban parser that can run directly in web browsers.

## Building

To build the WASM version, run the build script from the project root:

```bash
./build_wasm.sh
```

This will:
1. Build a Docker image using `Dockerfile.wasm`
2. Extract the compiled `tersmu.wasm` file
3. Copy the web app files (HTML, JavaScript) to `wasm-web-app/`

## Running Locally

After building, you can test the web app locally:

```bash
cd wasm-web-app
python3 -m http.server 8000
```

Then open http://localhost:8000 in your browser.

## Files

- `index.html` - Main web interface
- `tersmu.js` - JavaScript wrapper for the WASM module
- `tersmu.wasm` - Compiled WebAssembly module (generated by build script)

## How It Works

1. The WASM module is loaded when the page loads
2. When you enter Lojban text and click "Parse", the JavaScript wrapper calls the WASM function
3. The WASM module parses the text and returns a JSON string with the results
4. The results are displayed in the output area

## Browser Compatibility

Requires a modern browser with WebAssembly support:
- Chrome/Edge 57+
- Firefox 52+
- Safari 11+

## Notes

- The WASM build uses GHC's native WebAssembly backend (`wasm32-wasi` target)
- Memory management for strings is handled by the JavaScript wrapper
- The parser function is exported as `parseLojban` from the WASM module
